(function(){if(!window){return}window.variableListenerCache=new Map();function isObject(value){return value&&typeof value==='object'&&!Array.isArray(value)}function jsonCompare(jsonString,object){return jsonString===JSON.stringify(object)}function variableHasChanged(variable,value){return isObject(window[value])?!jsonCompare(window.variableListenerCache.get(variable)?.value,window[value]):this.cache[value]!==window[value]}window.addVariableListener=(variableName,callback)=>{if(!variableName||!window.hasOwnProperty(variableName)){console.error("VL | Scope Error: Variable must be globally declared with 'var'.");return!1}if(!callback||typeof callback!=='function'){console.error("VL | Argument Error: You must pass a function.");return!1}if(isObject(window[variableName])){window.variableListenerCache.set(variableName,{value:JSON.stringify(window[variableName]),callback})}else{window.variableListenerCache.set(variableName,{value:window[variableName],callback})}return!0};window.removeVariableListener=(variable)=>{window.variableListenerCache.delete(variable)};function loop(){window.variableListenerCache.forEach((variable,data)=>{if(variableHasChanged(variable)){if(isObject(window[variable])){data.value=JSON.stringify(window[variable])}else{data.value=window[variable]}data.callback?.()}});window.requestAnimationFrame(loop)}loop()})()
